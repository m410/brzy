# TODO This hard coded archetype version need to be fixed, or removed from here some how
archetype:
  name: brzy-webapp-archetype
  org: org.brzy.webapp
  version: 0.13.0

build:
  default_task: "package"
  compiler_type: "scala"
  compiler_version: "2.8.1"
  compiler_args: ""
  target_dir: "{working_dir}/target"
  webapp_dir: "{working_dir}/webapp"
  package_classifier: ""
  package_source: false
  package_doc: false
  deploy_target: ""
  publish_target: ""
  version_control: ""
  fab_cache_dir: "{user.home}/.fab"
  fab_home_dir: "{env.FAB_HOME}"
  builder_dir: "{working_dir}/.fab"
  builder_cache_dir: "{builder_dir}/fab"
  builder_code_dir: "{builder_dir}/fab_code"
  builder_lib_dir: "{builder_dir}/fab_lib"
  source_dir: "{woking_dir}/src/scala"
  resource_dir: "{woking_dir}/src/resources"
  classes_dir: "{target_dir}/classes"
  test_source_dir: "{working_dir}/test/scala"
  test_resource_dir: "{working_dir}/test/resources"
  test_classes_dir: "{target_dir}/test-classes"

views:
  name: brzy-scalate
  org: org.brzy
  version: "${brzy-scalate-version}"

repositories:
  - {id: brzy, url: "http://repo.brzy.org/content/repositories/releases"}
  - {id: brzy-snapshot, url: "http://repo.brzy.org/content/repositories/snapshots"}
  - {id: java-net2, url: "http://download.java.net/maven/2"}
  - {id: scala-tools, url: "http://scala-tools.org/repo-releases"}
  - {id: jboss, url: "http://repository.jboss.com/maven2"}
  - {id: reflections-repo, url: "http://reflections.googlecode.com/svn/repo"}
  - {id: maven-central, url: "http://repo1.maven.org/maven2"}

dependencies:
  - {conf: provided, org: org.scala-lang, name: scala-compiler, rev: "${scala.version}", transitive: false}
  - {conf: provided, org: org.scala-lang, name: scala-library, rev: "${scala.version}", transitive: false}
  - {conf: provided, org: javax.servlet, name: servlet-api, rev: "2.5", transitive: false}
  - {conf: compile, org: org.brzy.webapp, name: brzy-webapp, rev: "${project.version}", transitive: false}
  - {conf: compile, org: org.brzy.fab, name: fab-configuration, rev: "${fab-configuration-version}", transitive: false}
  - {conf: compile, org: org.brzy.beanwrap, name: beanwrap, rev: "${beanwrap-version}"}
  - {conf: compile, org: javassist, name: javassist, rev: "3.11.0.GA", transitive: false}
  - {conf: compile, org: org.aspectj, name: aspectjweaver, rev: "1.6.8", transitive: false}
  - {conf: compile, org: org.reflections, name: reflections, rev: "0.9.5-RC2", transitive: false}
  - {conf: compile, org: dom4j, name: dom4j, rev: "1.6.1", transitive: false}
  - {conf: compile, org: com.google.guava, name: guava, rev: "r06", transitive: false}
  - {conf: compile, org: org.yaml, name: snakeyaml, rev: "1.7"}
  - {conf: compile, org: commons-lang, name: commons-lang, rev: "2.5"}
  - {conf: compile, org: ch.qos.logback, name: logback-classic, rev: "0.9.27", transitive: false}
  - {conf: compile, org: ch.qos.logback, name: logback-core, rev: "0.9.27", transitive: false}
  - {conf: compile, org: org.slf4j, name: slf4j-api, rev: "1.6.1",transitive: false}

web_xml:
  - listener: {listener-class: org.brzy.application.WebAppListener}
  - filter: {filter-name: BrzyFilter, filter-class: org.brzy.webapp.BrzyFilter}
  - filter-mapping: {filter-name: BrzyFilter, url-pattern: "/*"}
  - servlet: { servlet-name: BrzyServlet, servlet-class: org.brzy.webapp.BrzyServlet, load-on-startup: "1"}
  - servlet-mapping: { servlet-name: BrzyServlet, url-pattern: "*.brzy"}
  - welcome-file-list: { welcome-file: "index.brzy"}
  - error-page: { error-code: "404", location: "/errors/404.ssp"}
  - error-page: { error-code: "500", location: "/errors/500.ssp"}
  - error-page: {exception-type: java.lang.Throwable, location: "/errors/500.ssp"}

